{"version":3,"file":"p-c4b8b73a.entry-3cfba2d4.js","sources":["../../dist/solias/p-c4b8b73a.entry.js"],"sourcesContent":["import{r as t,h as s,g as i}from\"./p-90532b6c.js\";class h{constructor(t){this.chartCtx=t}drawGridLine(t,s,i,h,e=\"#d1d1d1\"){this.chartCtx.save();this.chartCtx.strokeStyle=e;this.chartCtx.beginPath();this.chartCtx.moveTo(t,s);this.chartCtx.lineTo(i,h);this.chartCtx.stroke();this.chartCtx.restore()}}class e{constructor(t){this.chartCtx=t}addLabel(t,s,i,h){this.chartCtx.save();this.chartCtx.font=\"12px\";this.chartCtx.fillStyle=\"#4f4f4f\";if(h){this.chartCtx.textBaseline=\"middle\";this.chartCtx.textAlign=\"right\";this.chartCtx.fillText(t,s,i)}else{this.chartCtx.textAlign=\"center\";this.chartCtx.fillText(t,s,i+4)}this.chartCtx.restore()}getLabelScale(t,s,i){let h=this.calculateScale(t,s,i);if(h===s){return h=this.calculateScale(t,s-1,i)}else{return h}}calculateScale(t,s,i){if(t<12){for(let h=2;h<=s;h++){if(s%h===0&&t*h*i>12){return h}}}else{return 1}}}class r{constructor(t,s,i,r){this.chartCanvas=t;this.chartCtx=s;this.data=i;this.options=r;this.scale=1;this.paddingTopBottom=16;this.paddingLeftRight=24;this.gutterSpace=8;this.commonShapes=new h(s);this.textUtil=new e(s)}drawChart(){try{const t=Math.max(...Object.values(this.data));const s=Object.values(this.data);const i=Object.keys(this.data);const h=(this.chartCanvas.width-(this.paddingTopBottom+this.paddingLeftRight))/s.length;const e=(this.chartCanvas.height-(this.paddingTopBottom+this.paddingLeftRight))/t;const r=s.length*h/this.chartCanvas.width;const n=t*e/this.chartCanvas.height;this.scale=this.textUtil.getLabelScale(e,t+2,n);this.drawGrid(t+2,h,e,r,n,s);this.addLabels(t+2,h,e,r,n,i);for(let i in s){const o=this.paddingLeftRight+this.gutterSpace+h*parseInt(i)*r;const c=this.paddingTopBottom+((t+2)*e-s[i]*e)*n;this.drawChartBar(o,c,(h-this.gutterSpace*2)*r,s[i]*e*n)}}catch(t){console.log(\"%c Chart draw error \",\"background: #BA1A1A; color: #fff; padding: 2px;\",t)}}drawGrid(t,s,i,h,e,r){const n=r.length*s*h+this.paddingLeftRight;const o=t*i*e;this.commonShapes.drawGridLine(this.paddingLeftRight,this.paddingTopBottom,this.paddingLeftRight,o+this.paddingTopBottom);this.commonShapes.drawGridLine(this.paddingLeftRight,o+this.paddingTopBottom,n,o+this.paddingTopBottom)}addLabels(t,s,i,h,e,r){for(let n=0;n<t+2;n++){if(n%this.scale===0){const o=(this.paddingLeftRight-this.gutterSpace)*h;const c=(t-n)*i*e+this.paddingTopBottom;this.textUtil.addLabel(`${n}`,o,c,true);this.commonShapes.drawGridLine(o+this.gutterSpace/2,c,s*r.length*h+this.paddingLeftRight,c,\"#d1d1d1\")}}for(let n in r){const o=this.paddingLeftRight+this.gutterSpace+s*parseInt(n)+s*h/2;const c=this.paddingTopBottom*2+t*i*e;const a=s*(parseInt(n)+1)*h+this.paddingLeftRight;this.textUtil.addLabel(r[n],o*h,c,false);this.commonShapes.drawGridLine(a,this.paddingTopBottom,a,t*i*e+this.paddingTopBottom,\"#d1d1d1\")}}drawChartBar(t,s,i,h){var e;let r=\"#e9488b\";if((e=this.options)===null||e===void 0?void 0:e.color){r=this.options.color}this.chartCtx.save();this.chartCtx.fillStyle=r;this.chartCtx.fillRect(t,s,i,h);this.chartCtx.restore()}}const n=class{constructor(s){t(this,s);this.data=undefined;this.options=undefined}componentDidLoad(){var t,s;if(((t=this.options)===null||t===void 0?void 0:t.height)&&((s=this.options)===null||s===void 0?void 0:s.width)){this.chartCanvas.height=this.options.height;this.chartCanvas.width=this.options.width}else{this.chartCanvas.height=300;this.chartCanvas.width=300}this.initResizeObserver();this.chartCtx=this.chartCanvas.getContext(\"2d\");this.drawBasicBarChart()}componentDidUpdate(){this.drawBasicBarChart()}drawBasicBarChart(){this.clearCanvas();const t=new r(this.chartCanvas,this.chartCtx,this.data,this.options);t.drawChart()}initResizeObserver(){const t=new ResizeObserver((t=>{var s;if(this.chartCanvas.width>t[0].contentRect.width){this.chartCanvas.width=t[0].contentRect.width}else{this.chartCanvas.width=((s=this.options)===null||s===void 0?void 0:s.width)|300}this.drawBasicBarChart()}));t.observe(this.elmnt)}clearCanvas(){this.chartCtx.save();this.chartCtx.setTransform(1,0,0,1,0,0);this.chartCtx.clearRect(0,0,this.chartCanvas.width,this.chartCanvas.height);this.chartCtx.restore()}render(){return s(\"canvas\",{ref:t=>this.chartCanvas=t,id:this.elmnt.id?`solias-canvas-${this.elmnt.id}`:\"\"})}get elmnt(){return i(this)}};export{n as solias_chart};\n//# sourceMappingURL=p-c4b8b73a.entry.js.map"],"names":["h","s","i","e","r","n","o","c","a","t"],"mappings":"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"}